{"openapi":"3.0.1","info":{"title":"Meditag API","description":"Meditag REST API 문서\n\n인증 방법:\n1. /api/auth/login API로 로그인하여 JWT 토큰을 받습니다.\n2. 받은 토큰을 상단의 'Authorize' 버튼을 클릭하여 입력합니다.\n3. 토큰 형식: Bearer {token}","version":"1.0.0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"security":[{"bearer-key":[]}],"tags":[{"name":"약 관리","description":"약 관련 API"},{"name":"녹음 관리","description":"녹음 관련 API"},{"name":"인증 관리","description":"인증 관련 API"},{"name":"알림 관리","description":"알림 관련 API"},{"name":"JWT 관리","description":"JWT 관련 API"},{"name":"회원 관리","description":"회원 관련 API"},{"name":"캘린더 관리","description":"캘린더 관련 API"}],"paths":{"/api/records":{"get":{"tags":["녹음 관리"],"summary":"녹음 파일 목록 조회","description":"모든 녹음 파일을 조회합니다.","operationId":"getAllRecordings","responses":{"200":{"description":"조회 성공","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RecordingResponseDTO"}}}}}}},"post":{"tags":["녹음 관리"],"summary":"녹음 파일 저장","description":"녹음 파일을 저장합니다.","operationId":"createRecord","requestBody":{"content":{"multipart/form-data":{"schema":{"required":["data"],"type":"object","properties":{"data":{"$ref":"#/components/schemas/RecordingCreateRequestDTO"},"file":{"type":"string","description":"녹음 파일","format":"binary"}}}}}},"responses":{"200":{"description":"저장 성공","content":{"*/*":{"schema":{"type":"string"}}}},"400":{"description":"잘못된 요청","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/member/register":{"post":{"tags":["회원 관리"],"summary":"회원가입","description":"일반 회원가입을 합니다.\n```json\n{\n  \"username\": \"test@gmail.com\",\n  \"name\": \"회원1\",\n  \"phone\": \"010-1234-5678\",\n  \"password\": \"test12345\"\n}\n```","operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterDTO"}}},"required":true},"responses":{"200":{"description":"회원가입 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/RegisterDTO"}}}},"404":{"description":"회원가입 실패","content":{"*/*":{"schema":{"type":"string","example":"회원가입을 실패했습니다."}}}}}}},"/api/medicines":{"get":{"tags":["약 관리"],"summary":"날짜별 약 정보 조회","description":"특정 날짜의 약 정보를 조회합니다.\n```json\n2025-03-28\n```","operationId":"getMedicinesByDate","parameters":[{"name":"date","in":"query","description":"조회할 날짜 (YYYY-MM-DD)","required":true,"schema":{"type":"string"}}],"responses":{"404":{"description":"해당 날짜 정보 없음","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MedicineGetDateResponseDTO"}}}},"200":{"description":"조회 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MedicineGetDateResponseDTO"}}}}}},"post":{"tags":["약 관리"],"summary":"약 정보 등록","description":"새로운 약 정보를 등록합니다.\n```json\n{\n  \"name\": \"처방약1\",\n  \"characteristic\": \"겁나 써\",\n  \"startDate\": \"2025-03-28\",\n  \"duration\": 7,\n  \"frequency\": 3,\n  \"imageUrl\": \"https://example.com/medicine.jpg\",\n  \"prescribed\": true,\n  \"dosageTimes\": [\n    \"아침\",\n    \"점심\",\n    \"저녁\"\n  ],\n  \"alarmTimes\": [\n    \"2025-03-28T08:00:00\",\n    \"2025-03-28T12:00:00\",\n    \"2025-03-28T18:00:00\"\n  ]\n}\n```","operationId":"createMedicine","requestBody":{"content":{"multipart/form-data":{"schema":{"required":["data"],"type":"object","properties":{"data":{"$ref":"#/components/schemas/MedicineCreateRequestDTO"},"file":{"type":"string","description":"약 이미지","format":"binary"}}}}}},"responses":{"200":{"description":"등록 성공","content":{"*/*":{"schema":{"type":"string"}}}},"400":{"description":"잘못된 요청","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/jwt/reissue":{"post":{"tags":["JWT 관리"],"summary":"토큰 재발급","description":"엑세스 토큰 만료 시 엑세스 토큰과 리프레시 토큰을 재발급합니다.","operationId":"reissue","responses":{"200":{"description":"로그인 성공","content":{"*/*":{"schema":{"type":"string","example":{"accessToken":"eyJhbGciOiJIUzI1NiJ9........","refreshToken":"eyJhbGciOiJIUzI1NiJ9......."}}}}},"401":{"description":"인증 실패","content":{"*/*":{"schema":{"type":"string","example":"아이디 또는 비밀번호가 일치하지 않습니다."}}}}}}},"/api/auth/logout":{"post":{"tags":["인증 관리"],"summary":"로그아웃","description":"로그아웃을 수행하고 JWT 토큰을 삭제합니다.","operationId":"logout","responses":{"200":{"description":"로그아웃 성공","content":{"*/*":{"schema":{"type":"string","example":"로그아웃 되었습니다."}}}},"400":{"description":"토큰이 없거나 유효하지 않음","content":{"*/*":{"schema":{"type":"string","example":"토큰이 없습니다. 로그아웃을 진행할 수 없습니다."}}}}}}},"/api/auth/login":{"post":{"tags":["인증 관리"],"summary":"일반 로그인","description":"일반 로그인을 수행하고 JWT 토큰을 반환합니다.\n```json\n{\n  \"username\": \"test@gmail.com\",\n  \"password\": \"test12345\"\n}\n```","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDTO"}}}},"responses":{"200":{"description":"로그인 성공","content":{"*/*":{"schema":{"type":"string","example":{"accessToken":"eyJhbGciOiJIUzI1NiJ9........","refreshToken":"eyJhbGciOiJIUzI1NiJ9......."}}}}},"401":{"description":"인증 실패","content":{"*/*":{"schema":{"type":"string","example":"아이디 또는 비밀번호가 일치하지 않습니다."}}}}}}},"/api/medicines/{medicineId}/alarms/{alarmId}/taking":{"patch":{"tags":["알림 관리"],"summary":"알림 상태 변경","description":"약 복용 여부를 변경합니다.","operationId":"toggleTaking","parameters":[{"name":"medicineId","in":"path","description":"약 ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"alarmId","in":"path","description":"알림 ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"알림을 찾을 수 없음","content":{"*/*":{"schema":{"type":"string"}}}},"200":{"description":"알림 상태 변경 성공","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/medicines/presigned-url":{"get":{"tags":["약 관리"],"summary":"약 이미지 URL 조회","description":"약 이미지의 Presigned URL을 조회합니다.","operationId":"getPresignedUrl","parameters":[{"name":"filename","in":"query","description":"파일명","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"URL 조회 성공","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/calendar":{"get":{"tags":["캘린더 관리"],"summary":"날짜별 복약 정보 조회","description":"특정 날짜의 복약 정보를 조회합니다.\n```json\n2025-03-28\n```","operationId":"getCalendarByDate","parameters":[{"name":"date","in":"query","description":"조회할 날짜 (YYYY-MM-DD)","required":true,"schema":{"type":"string"}}],"responses":{"404":{"description":"해당 날짜 정보 없음","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CalendarGetDateResponseDTO"}}}},"200":{"description":"조회 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CalendarGetDateResponseDTO"}}}}}}}},"components":{"schemas":{"RecordingCreateRequestDTO":{"type":"object","properties":{"title":{"type":"string"},"recordingTime":{"type":"string","format":"date-time"},"recordingFile":{"type":"string"}},"description":"녹음 정보"},"RegisterDTO":{"required":["name","phone","username"],"type":"object","properties":{"username":{"type":"string"},"name":{"type":"string"},"phone":{"type":"string"},"password":{"maxLength":20,"minLength":8,"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"MedicineCreateRequestDTO":{"type":"object","properties":{"name":{"type":"string"},"characteristic":{"type":"string"},"startDate":{"type":"string","format":"date"},"duration":{"type":"integer","format":"int32"},"frequency":{"type":"integer","format":"int32"},"imageUrl":{"type":"string"},"prescribed":{"type":"boolean"},"dosageTimes":{"type":"array","items":{"type":"string"}},"alarmTimes":{"type":"array","items":{"type":"string","format":"date-time"}}},"description":"약 정보"},"LoginDTO":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"}},"description":"회원 정보"},"RecordingResponseDTO":{"type":"object","properties":{"title":{"type":"string"},"recordingTime":{"type":"string","format":"date-time"},"recordingFile":{"type":"string"}}},"AlarmDTO":{"type":"object","properties":{"alarmTime":{"type":"string","format":"date-time"},"taking":{"type":"boolean"}}},"MedicineDTO":{"type":"object","properties":{"medicineName":{"type":"string"},"characteristic":{"type":"string"},"imageUrl":{"type":"string"},"prescribed":{"type":"boolean"},"alarms":{"type":"array","items":{"$ref":"#/components/schemas/AlarmDTO"}}}},"MedicineGetDateResponseDTO":{"type":"object","properties":{"date":{"type":"string"},"medicines":{"type":"array","items":{"$ref":"#/components/schemas/MedicineDTO"}}}},"CalendarGetDateResponseDTO":{"type":"object","properties":{"date":{"type":"string"},"medicines":{"type":"array","items":{"$ref":"#/components/schemas/calendarDTO"}}}},"calendarDTO":{"type":"object","properties":{"medicineName":{"type":"string"},"prescribed":{"type":"boolean"},"alarms":{"type":"array","items":{"$ref":"#/components/schemas/AlarmDTO"}}}}},"securitySchemes":{"bearer-key":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}